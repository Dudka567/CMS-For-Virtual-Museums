<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Scene</title>
</head>
<body>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    .container {
        width: 100%;
        height: 100vh;
    }
</style>

<div class="container"></div>
<script src="three.js"></script>
<script src="dat.gui.js"></script>
<script type="module">

    import {OrbitControls} from 'https://cdn.jsdelivr.net/npm/three@0.121.1/examples/jsm/controls/OrbitControls.js'
    import {GLTFLoader} from './three.js-master/examples/jsm/loaders/GLTFLoader.js'

    let scene;
    let camera;
    let renderer;

    function init() {
        let container = document.querySelector('.container');

        //Scene
        scene = new THREE.Scene()
        //Load background texture
        const loader1 = new THREE.TextureLoader();
        loader1.load('./model/sky.jpg', function (texture) {
            scene.background = texture;
        });


        //Camera
        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 3000);
        camera.position.z = 0;
        camera.position.y = 50;
        camera.position.x = 0;

        //render
        renderer = new THREE.WebGLRenderer({antialias: true})
        renderer.setSize(window.innerWidth, window.innerHeight)
        container.appendChild(renderer.domElement)

        //OrbitControls
        const controls = new OrbitControls(camera, renderer.domElement);
        controls.update();
        controls.enableDamping = true;
        controls.minDistance = 5;


        //light
        const ambient = new THREE.AmbientLight(0x4ad1e3, 1);
        scene.add(ambient);


        let light1 = new THREE.PointLight(0xe34ace, 1);
        light1.position.set(0, 25, 0);
        scene.add(light1);


        //model
        const loader = new GLTFLoader();
        var a;
        var b;
        loader.load('./model/MuseumFast.gltf', gltf => {
                scene.add(gltf.scene);
            },
            function (error) {
                console.log('Error: ' + error)
            }
        )
        loader.load('./model/RomeAbac/RomeAbak.gltf', gltf => {
                b = gltf.scene;
                gltf.scene.position.setX(0)
                gltf.scene.position.setZ(100)
                scene.add(gltf.scene);
            },
            function (error) {
                console.log('Error: ' + error)
            }
        )
        loader.load('./model/gnom1.gltf', gltf => {
                a = gltf.scene;
                gltf.scene.position.setX(0)
                gltf.scene.position.setZ(60)
                scene.add(gltf.scene);
            },
            function (error) {
                console.log('Error: ' + error)
            }
        )
        //Resize
        //EventListener
        window.addEventListener('resize', onWindowResize, false)

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();

            renderer.setSize(window.innerWidth, window.innerHeight)
        }

          var b = 0;
        function animate() {
            requestAnimationFrame(animate)
               a.position.setX(b);
              b += 1;
            controls.update();
            renderer.render(scene, camera)
        }

        animate()
    }

    init()
</script>
</body>
</html>